@page "/login"
@inject HttpClient Http

<h1> Login to RTM</h1>

<div>
    <TextEdit Role="TextRole.Email" Placeholder="Email..." bind-Text="@Email" />
    <TextEdit Role="TextRole.Password" Placeholder="Password..." bind-Text="@Password" />
    <SimpleButton Clicked="@SubmitForm" Color="Color.Primary" IsOutline="true">Login</SimpleButton>
</div>

@functions {
    public string Email { get; set; } = "";
    public string Password { get; set; } = "";
    public string Token { get; set; } = "";

    private async void SubmitForm() {
        var login = new LoginUserDTO {
            Email = Email,
            Password = Password
        };
        var response = await Http.PostJsonAsync<object>("http://127.0.0.1:5555/api/account/login", login);

        Console.WriteLine(response);
    }
}